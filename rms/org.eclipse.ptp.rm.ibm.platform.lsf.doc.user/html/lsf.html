<html>
<head>
<title>LSF</title>
<link rel="stylesheet" type="text/css" href="help.css">
<script type="text/javascript" src="thumb.js">
	
</script>
</head>
<body>

	<h1 id="top">IBM Platform LSF</h1>
	<p>This section describes how to set up and use a run configuration using
		IBM Platform Load Sharing Facility (LSF), as the target system configuration
		within the <a href="PLUGINS_ROOT/org.eclipse.ptp.doc.user/html/toc.html">Parallel Tools Platform</a> (PTP),  
		to support LSF job submission. You can submit LSF batch jobs or run interactive jobs using LSF to manage the job, 
		depending which LSF target system configuration you use.
	</p>
	<h2 id="config">Initial Setup</h2>
	<p>The user account that you use to submit jobs to the remote LSF system must include an invocation of profile.lsf, 
		cshrc.lsf or perl.lsf as part of its login shell script, depending on that account's shell command processor. By invoking 
		the appropriate script, you ensure that the account is set up for PTP to run LSF commands.</p>
	<p>If you are using LSF to run interactive parallel jobs using OpenMPI or MPICH2, you must make sure that the <b>PATH</b> 
	    and <b>LD_LIBRARY_PATH</b> environment variables are set in your login shell script to point to the executable 
	    (bin) and library (lib) directories for your version of MPI unless it is installed in system directories.</p>
	<p> If you are using IBM Platform MPI you must make sure the <b>PATH</b> environment variable is set in your login 
	    shell script to point to the executable (bin) directory where the executables for IBM Platform MPI reside.</p>
	<p> For IBM Parallel Environment, the <b>poe</b> executable used to launch
	    your application resides in /usr/bin, so no special setup is required.</p>
	<p>In addition, when you define the connection to the remote host, make sure the <b>Use login shell</b> checkbox
		 in the <b>Generic Remote Host</b> dialog is checked. Note that this dialog appears in simplified mode. 
		 In order to check the <b>Use login shell</b> checkbox, you must click the <b>Advanced</b> button then check the 
		 checkbox.
	</p>
	<img src="./images/rms-lsf0.png">
	<h2 id="submit">Submitting a Batch Job</h2>
	<p>To submit a batch job, use the <b>Run</b> menu or the 
		<b>run</b> icon to select an existing run configuration or create a new run configuration. The run configuration should be a 
		<b>Parallel Application</b> run configuration.</p>
	<p>Next, select the <b>IBM Platform LSF</b> option from the Target System Configuration drop down widget.</p>
	<p>Then select the connection for the remote system from the <b>Connection name</b> drop down widget or click the <b>New</b>
	 	button to create a new connection to the remote system. (See Initial Setup about defining the connection.)
	 	</p>
	<img src="./images/rms-lsf1.png"><br>
	<h2 id="submitInteractive">Running an Interactive Job</h2>
    <p>To run an interactive application, use the <b>Run</b> menu or the 
        <b>run</b> icon to select an existing run configuration or create a new run configuration. The run configuration should be a 
        <b>Parallel Application</b> run configuration.</p>
    <p>To debug an interactive application, use the <b>Debug</b> option on the <b>Run</b> menu or the 
        <b>debug</b> icon to select an existing debug configuration or create a new debug configuration. The debug configuration should be a 
        <b>Parallel Application</b> run configuration.</p>
    <p>Next, select the <b>IBM Platform LSF Interactive</b> option from the Target System Configuration drop down widget.</p>
    <p>Then select the connection for the remote system from the <b>Connection name</b> drop down widget or click the <b>New</b>
        button to create a new connection to the remote system. (See Initial Setup about defining the connection.)
        </p>
    <p>If you are running a parallel application, you must select a parallel runtime on the <b>Job Submission</b> tab 
    and you must also specify the number of application tasks on the <b>Job Submission</b> tab.</p>
    <img src="./images/rms-lsf10.png"><br>
	<h2 id="options">Specifying Job Submission Options</h2>
	<p>After you have selected the LSF target system configuration and the connection, the resources tab of the run
	   configuration dialog is populated with a set of tabbed panes whose values you fill in with LSF job 
	   submission parameters.
	</p>	
	<p>The LSF job submission options are organized into several tabbed panes</p>
	<ul>
		<li><b>Job Submission</b>, such as job queue, job name, and login shell. The first screen capture shows the
		Job Submission pane for a LSF batch job. The second screen capture shows the Job Submission pane when
		running an interactive application.</li>
		<br>
		<img src="./images/rms-lsf3.png">
		<br>
        <img src="./images/rms-lsf11.png">
        <br><br>
		<li><b>Scheduling</b>, such as job dependencies, dispatch at time-of-day, and reservation id</li>
		<br>
		<img src="./images/rms-lsf5.png">
		<br><br>
		<li><b>Resources</b>, such as execution host names and number of processors</li>
		<br>
		<img src="./images/rms-lsf6.png">
		<br><br>
		<li><b>Limits</b>, such as CPU time limit, file size limit, and memory limit</li>
		<br>
		<img src="./images/rms-lsf7.png">
		<br><br>
		<li><b>I/O</b>, specifying handling for stdin, stdout and stderr. If you selected the <b>IBM Platform LSF 
		  Interactive</b> target system configuration, this pane is not present.</li>
		<br>
		<img src="./images/rms-lsf8.png">
		<br><br>
		<li><b>Notifications</b>, specifying notifications for job dispatch and completion</li>
		<br>
		<img src="./images/rms-lsf9.png">
	</ul>
	<p>In addition, the <b>Advanced</b> tab displays a list of all LSF job submission options where you can also fill 
	   in the values you need.</p>
	<img src="./images/rms-lsf2.png">
	<p>Options on the <b>Job Submission</b> tab (<b>Job Queue</b> and <b>Application Profile</b>) 
	and on the <b>Scheduling</b> tab (<b>Reservation ID</b>) 
	   are comprised of a text entry field and a <b>List</b>
	   button. You can either fill in the value in the text entry field or click the <b>List</b> button to get a dialog where
	   you can select from one of the available choices.  The selection dialog displayed when you click the <b>List</b> button for one of these options appears similar to the following:</p>
	<img src="./images/rms-lsf4.png">
	<p>You select a value from the dialog by clicking the entry in the left column and clicking the <b>OK</b> button.</p>
	<p>Once you have filled in the values in the tabs as needed then click the <b>Run</b> button to submit the LSF job. </p>
		<a href="#top">Back to Top</a> 

</body>
</html>




